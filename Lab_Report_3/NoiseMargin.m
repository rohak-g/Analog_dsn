data = readmatrix('cmos_inv2.csv', 'NumHeaderLines', 2);
Vin = data(:,2);
Vout = data(:,3);
dVout_dVin = gradient(Vout, Vin);
threshold = 0.05;
indices = find(abs(dVout_dVin + 1) < threshold);
VIL = min(Vin(indices));
VIH = max(Vin(indices));
VOH = max(Vout);
VOL = min(Vout);
NMH = VOH - VIH;
NML = VIL - VOL;
fprintf('VOH = %.3f V\n', VOH);
fprintf('VOL = %.3f V\n', VOL);
fprintf('VIH = %.3f V\n', VIH);
fprintf('VIL = %.3f V\n', VIL);
fprintf('NMH = %.3f V\n', NMH);
fprintf('NML = %.3f V\n', NML);
